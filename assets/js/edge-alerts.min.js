/*	Edge Alerts v1.0, Copyright 2014, Joe Mottershaw, https://github.com/joemottershaw/
//	=================================================================================== */

!function(e){e.fn.edgeAlerts=function(n){function t(){return window.innerHeight?window.innerHeight:e(window).height()}function l(){var e=f.width(),n=f.height();f.css({"margin-top":"-"+n/2+"px","margin-left":"-"+e/2+"px"})}function a(){p.on("click",function(n){n.preventDefault(),e(":focus").blur()}),e.isFunction(s.callbackOpen)&&s.callbackOpen.call(this),0===e(".edge-alerts").size()&&(p.prepend(u.css({height:t(),"background-color":s.background})),s.closeButton?u.append(d,f):u.append(f)),u.fadeIn(s.revealSpeed),e(window).resize(function(){u.css({height:t()}),l()}),s.overlayClose&&u.click(function(){o()}),s.closeButton&&d.click(function(){o()}),e(document).on("keyup",function(e){s.escKey&&e.keyCode==v&&o()}),k.on("click",function(){o()}),f.click(function(e){e.stopPropagation()}),e.isFunction(s.callbackClose)&&s.callbackClose.call(this)}function c(){a(),-1!==e.inArray(s.type,r)?null===s.title||null===s.message?i():(f.append(g),"alert"==s.type?e(".edge-alerts-popup-buttons").append('<a href="#" target="_self" class="edge-alerts-popup-continue">'+s.alertContinueText+"</a>"):"confirm"==s.type&&(e.isFunction(s.callbackConfirm)?e(".edge-alerts-popup-buttons").append(s.reverseButtons?'<a href="#" target="_self" class="edge-alerts-popup-continue">'+s.confirmContinueText+'</a><a href="#" target="_self" class="edge-alerts-popup-cancel">'+s.confirmCancelText+"</a>":'<a href="#" target="_self" class="edge-alerts-popup-cancel">'+s.confirmCancelText+'</a><a href="#" target="_self" class="edge-alerts-popup-continue">'+s.confirmContinueText+"</a>"):i()),e(".edge-alerts-popup-buttons a").on("click",function(e){e.preventDefault()}),e(".edge-alerts-popup-cancel").on("click",function(){o()}),e(".edge-alerts-popup-continue").on("click",function(){"confirm"==s.type&&s.callbackConfirm.call(this),o()}),e(document).on("keyup",function(n){s.enterKey&&n.keyCode==h&&("alert"==s.type?e(".edge-alerts-popup-continue").trigger("click"):"confirm"==s.type&&e(".edge-alerts-popup-confirm-continue").trigger("click"))})):i(),l()}function o(){e.isFunction(s.callbackBeforeClose)&&s.callbackBeforeClose.call(this),u.fadeOut(s.revealSpeed,function(){u.remove()}),e.isFunction(s.callbackAfterClose)&&s.callbackAfterClose.call(this)}function i(){f.empty().append(k)}var s=e.extend({type:"alert",title:null,message:null,callbackConfirm:null,alertContinueText:"Continue",confirmCancelText:"Cancel",confirmContinueText:"Continue",reverseButtons:!1,revealSpeed:400,background:"rgba(0, 0, 0, .8)",overlayClose:!0,closeButton:!0,enterKey:!0,escKey:!0,callbackOpen:null,callbackClose:null,errorMessage:"It appears there was an error with the requested dialog popup."},n),r=["alert","confirm"],p=this,u=e("<div>",{"class":"edge-alerts"}),d=e("<div>",{"class":"edge-alerts-close"}),f=e("<div>",{"class":"edge-alerts-container"}),g=e('<div class="edge-alerts-popup-head">'+s.title+'</div><div class="edge-alerts-popup-body"><div class="edge-alerts-popup-message">'+s.message+'</div><div class="edge-alerts-popup-buttons edge-alerts-clearfix"></div></div>'),k=e('<div class="edge-alerts-error">'+s.errorMessage+"</div>"),h=13,v=27;c()}}(jQuery);